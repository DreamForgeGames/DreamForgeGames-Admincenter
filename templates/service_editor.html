{% extends "service.html" %} {% block service_content %}
<h2>Template Editor – {{ service.name }}</h2>
<p>Bearbeite die HTML-Datei direkt im Browser:</p>

<form method="POST">
  <textarea id="editor" name="html_content" style="width: 100%; height: 500px">
{{ html_content|e }}</textarea
  >
  <div class="mt-2">
    <button type="submit" class="btn btn-success">Speichern</button>
    <a
      href="{{ url_for('service_page', service_id=service.id) }}"
      class="btn btn-secondary"
      >Abbrechen</a
    >
  </div>
</form>

<!-- Optional: CodeMirror/Monaco Editor einbinden für bessere UX -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/htmlmixed/htmlmixed.min.js"></script>
<script>
  var editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
    lineNumbers: true,
    mode: "htmlmixed",
    theme: "default",
    lineWrapping: true,
  });
</script>
{% endblock %}
